# Приложение для анализа банковских операций
## Цель проекта
Разработка приложения для анализа банковских операций клиента по различным параметрам
##Инструкция по установке и использованию

### Установка
*раздел в разработке*

### Запуск программы
Программа принимает данные из файла транзакций и выводит основную информацию об операциях, 
курсах валют и котировках акций. Кроме того в программе содержатся сервисы по поиску транзакций и формированию отчетов.

### Использование функций и примеры работы
Программа имеет страницу Главная [views.py](src/views.py), в которой используются следующие функции модуля [utils.py](src/utils.py):
1. Функция приветствия - выводит приветствие в зависимости от переданного времени суток в формате json.
2. Функция чтения данных из файла excel - принимает путь до файла и возвращает список словарей с данными о транзакциях.
3. Функция вывода информации по картам - принимает на вход список транзакций и возвращает информацию о каждой карте
в формате json:
- последние 4 цифры карты;
- общая сумма расходов;
- кешбэк.
4. Функция вывод топ-5 транзакций по сумме операции - принимает на вход список словарей с данными о транзакциях
    и возвращает топ-5 операций по сумме платежа в формате json. 
5. Функция получения курсов валют через API https://www.cbr-xml-daily.ru/ - возвращает курсы переданного списка валют
в формате json.
6. Функция получения котировок акций через API https://marketstack.com/ - возвращает котировки по переданному списку 
тикетов, в формате json.

Раздел Сервисы [services.py](src/services.py) содержит следующие функции:
1. Функция простого поиска - принимает на вход список транзакций и строку для поиска
и возвращает список транзакций с искомой строкой в описании.

Раздел Отчеты [reports.py](src/reports.py) содержит следующие функции:
1. Отчет о тратах в заданной категории - функция собирает данные о тратах в заданной категории за 3 последних месяца 
от переданной даты или от текущего дня, если дата не передана.
Сохранение результатов отчетов записываются в файл csv при помощи декоратора save_to_file.

### Тестирование
Тесты для проверки валидности функционального теста используют фикстуры из [conftest.py](tests/conftest.py), 
а также MOCK объекты.